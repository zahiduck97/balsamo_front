<!-- Banner Section -->
<section class="banner_form">
  <div class="container">
    <div class="row">
      <div class="col-sm-12">
        <div class="banner_desc_form">
          <h1 class="title_form">AGENDAR CITA</h1>
        </div>
      </div>
      <div class="col-md-6">
      </div>
    </div>
  </div>
</section>

<!-- Agendar Section -->
<section class="agendar">
  <div class="container">
    <div class="row">
      <div class="col-md-12 col-lg-6">
        <div class="agendar_container">
          <h1 class="agendar_title">CONTÁCTAME</h1>
          <p class="agendar_desc">
            Si necesitas comunicarte para agendar una cita, contarme tu idea o pedir un diseño personalizado, no dudes en llenar el formulario o contactarme por alguno de los medios disponibles.
          </p>

          <div class="agendar_items">
            <div class="icon">
              <i class="fas fa-envelope"></i>
              <p class="icon_desc">zahid.butron@gmail.com</p>
            </div>

            <div class="icon">
              <i class="fas fa-mobile"></i>
              <p class="icon_desc">55 2693 5026</p>
            </div>
          </div>
        </div>
      </div>

      <div class="col-md-12 col-lg-6">
        <div class="formulario">

<!--          Nombre-->
          <form [formGroup]="agendarForm">
            <div class="form-row">
              <div class="form-group col-sm-12">
                <label for="nombre">Nombre <span class="rojo">*</span></label>
                <input type="text" class="form-control" id="nombre" formControlName="nombre" maxlength="20"
                       [class.is-valid]="agendarForm.controls['nombre'].valid &&
        (agendarForm.controls['nombre'].dirty || agendarForm.controls['nombre'].touched)"
                       [class.is-invalid]="agendarForm.controls['nombre'].invalid &&
        (agendarForm.controls['nombre'].dirty || agendarForm.controls['nombre'].touched)">
<!--                Validacion-->
                <div class="invalid-feedback">
                    <span *ngIf="agendarForm.controls['nombre'].hasError('required')">
                      Se requiere llenar el campo
                    </span>
                  <span *ngIf="agendarForm.controls['nombre'].hasError('minlength')">
                      De seguro tienes un nombre más largo
                    </span>
                </div>
              </div>
            </div>


            <div class="form-row">
<!--            Whastapp-->
              <div class="form-group col-sm-12 col-md-6">
                <label for="Whatsapp">Whatsapp <span class="rojo">*</span></label>
                <input type="text" class="form-control" id="Whatsapp" formControlName="whatsapp" maxlength="15"
                       [class.is-valid]="agendarForm.controls['whatsapp'].valid &&
        (agendarForm.controls['whatsapp'].dirty || agendarForm.controls['whatsapp'].touched)"
                       [class.is-invalid]="agendarForm.controls['whatsapp'].invalid &&
        (agendarForm.controls['whatsapp'].dirty || agendarForm.controls['whatsapp'].touched)">
<!--              Validacion-->
                <div class="invalid-feedback">
                    <span *ngIf="agendarForm.controls['whatsapp'].hasError('required')">
                      Se requiere llenar el campo
                    </span>
                  <span *ngIf="agendarForm.controls['whatsapp'].hasError('minlength'); else pattern">
                      Se requieren al menos 10 números
                    </span>
                  <ng-template #pattern>
                    <span *ngIf="agendarForm.controls['whatsapp'].hasError('pattern')">
                      Solo se aceptan números ups...
                    </span>
                  </ng-template>
                </div>
              </div>


<!--              Correo-->
              <div class="form-group col-sm-12 col-md-6">
                <label for="email">Correo</label>
                <input type="email" class="form-control" id="email" formControlName="correo" maxlength="50"
                       [class.is-valid]="agendarForm.controls['correo'].valid &&
        (agendarForm.controls['correo'].dirty || agendarForm.controls['correo'].touched)"
                       [class.is-invalid]="agendarForm.controls['correo'].invalid &&
        (agendarForm.controls['correo'].dirty || agendarForm.controls['correo'].touched)">
<!--              Validacion-->
                <div class="invalid-feedback">
                  <span *ngIf="agendarForm.controls['correo'].hasError('email')">
                      No parece que sea un correo
                    </span>
                </div>
              </div>
            </div>

<!--            Comentario-->
            <div class="form-row">
              <div class="form-group col-sm-12">
                <label for="comentario">¿Qué necesitas? <span class="rojo">*</span></label>
                <textarea name="comentario" id="comentario" rows="4" class="form-control" formControlName="comentario" maxlength="255"
                          [class.is-valid]="agendarForm.controls['comentario'].valid &&
        (agendarForm.controls['comentario'].dirty || agendarForm.controls['comentario'].touched)"
                          [class.is-invalid]="agendarForm.controls['comentario'].invalid &&
        (agendarForm.controls['comentario'].dirty || agendarForm.controls['comentario'].touched)"></textarea>
<!--                Validacion-->
                <div class="invalid-feedback">
                    <span *ngIf="agendarForm.controls['comentario'].hasError('required')">
                      Se requiere llenar el campo
                    </span>
                  <span *ngIf="agendarForm.controls['comentario'].hasError('minlength')">
                      Te invito a que me cuentes un poco más sobre tu idea
                    </span>
                </div>
              </div>
            </div>

<!--            Subir Archivo-->
            <div class="custom-file mb-3">
              <input type="file" class="custom-file-input" id="validatedCustomFile" (change)="almacenarArchivo($event)">
              <label class="custom-file-label" for="validatedCustomFile">Subir Diseño</label>
            </div>

            <!-- Modal -->
            <div class="modal fade" id="staticBackdrop" data-backdrop="static" data-keyboard="false" tabindex="-1" aria-labelledby="staticBackdropLabel" aria-hidden="true">
              <div class="modal-dialog modal-dialog-centered">
                <div class="modal-content">
                  <div class="modal-body">
                    <h3 *ngIf="selector === 0">¿Quieres enviar tu formulario?</h3>

                    <div *ngIf="selector === 1">
                      <h3>Se está almacenando tu información</h3>
                      <div class="spinner-border" style="width: 3rem; height: 3rem;" role="status">
                        <span class="sr-only">Loading...</span>
                      </div>
                    </div>

                    <div *ngIf="selector === 2">
                      <h3>Se está subiendo tu imagen</h3>
                      <div class="progress">
                        <div class="progress-bar progress-bar-striped progress-bar-animated" role="progressbar"
                             aria-valuenow="12" aria-valuemin="0" aria-valuemax="100"
                             [style.width.%]="percent"></div>
                      </div>
                    </div>

                    <div *ngIf="selector === 3">
                      <h3>Se guardó con éxito tu información</h3>
                      <p>Me comunicaré contigo prontamente</p>
                    </div>

                    <div *ngIf="selector === 4">
                      <h3>Parece que hubo un error</h3>
                      <p>Favor de comunicarte al  55 2693 5026</p>
                    </div>
                  </div>
                  <div class="modal-footer">
                    <div *ngIf="selector < 3">
                      <button type="button" class="btn btn-secondary" [disabled]="selector !== 0" data-dismiss="modal">No, revisar nuevamente</button>
                      <button type="button" class="btn boton-azul" [disabled]="selector !== 0" (click)="enviar()">Si, enviar</button>
                    </div>
                    <button type="button" class="btn btn-secondary" *ngIf="selector > 2" data-dismiss="modal" (click)="resetearFormulario()"> Cerrar</button>
                  </div>
                </div>
              </div>
            </div>

            <button class="btn formulario_btn" data-toggle="modal" data-target="#staticBackdrop" [disabled]="agendarForm.invalid || (archivoASubir.hayArchivo && !archivoASubir.archivo)"
                    [class.disabled]="agendarForm.invalid || (archivoASubir.hayArchivo && !archivoASubir.archivo)">Enviar</button>
          </form>
        </div>
      </div>
    </div>
  </div>
</section>

<!-- Como tatuarse Seccion -->
<section class="how">
  <div class="container">
    <div class="row">
      <div class="col-md-12">
        <div class="how_desc">
          <h1 class="title">
            ¿CÓMO TATUARSE?
          </h1>

          <div class="item_list">
            <div class="item">
              <div class="item_header">
                <div class="item_image">
                  <i class="far fa-lightbulb"></i>
                </div>
              </div>
              <p class="item_title">TRAE TU IDEA</p>
              <p class="item_desc">
                Cuéntame que te gustaría tatuarte y te ayudo a definir lo que buscas
              </p>
            </div>
            <div class="item">
              <div class="item_header">
                <div class="item_image">
                  <i class="fas fa-pencil-alt"></i>
                </div>
              </div>
              <p class="item_title">TE ORIENTO</p>
              <p class="item_desc">
                Personalizare tu tatuaje para que sea único y exclusivo para ti
              </p>
            </div>
            <div class="item">
              <div class="item_header">
                <div class="item_image">
                  <i class="fas fa-dollar-sign"></i>
                </div>
              </div>
              <p class="item_title">TATUATE</p>
              <p class="item_desc">
                Al mejor precio, sin perder calidad ni pagar de más
              </p>
            </div>
            <div class="item">
              <div class="item_header">
                <div class="item_image">
                  <i class="fas fa-check"></i>
                </div>
              </div>
              <p class="item_title">CUIDADOS</p>
              <p class="item_desc">
                ¡Cuida tu tatuaje! Click <a href="#">aqui</a> para obtener más información
              </p>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>
